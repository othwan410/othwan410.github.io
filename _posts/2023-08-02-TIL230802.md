---
layout: single
title: "red balck tree"
---

# red black tree

레드 블랙 트리를 공부해보았다.  
레드 블랙 트리는 자가 균형 이진 탐색 트리로 여러가지 규칙을 통해 균형을 이루게한다.  
아래가 그 규칙이다.  

1. 모든 노드는 빨간색 혹은 검은색이다.  
2. 루트 노드는 검은색이다.  
3. 모든 리프 노드들은 검은색이다.  
4. 빨간색 노드의 자식은 검은색이다. (빨간색 노드가 연속으로 나올 수 없다.)  
5. 모든 리프 노드에서 루트 노드까지 가는 경로에서 만나는 검은색 노드의 개수가 같다.  
  
레드-블랙 트리에 새로운 노드를 삽입 할 때는 항상 빨간색으로 삽입한다.  
즉, 4번에 위배되는 상황이 발생하는데 그렇기 때문에 이를 해결해 주면서 균형을 맞추게 된다.  

그리고 여기서 삼촌 노드의 색에 따라 로직이 다르게 된다.    
검은색일 경우 새로운 노드와 부모 노드 조상노드를 오름차순으로 정렬하고,  
셋 중 중간값을 부모 노드로 만들고 나머지를 자식 노드로 만든다.  
그렇게 한뒤 부모노드와 자식노드의 색을 맞추어 규칙을 지켜준다.  
이 때의 로직을 Restructuring라고 한다.

만약 삼촌 노드가 빨간색이라면, 이 때의 로직을 Recoloring을 한다.  
새로운 노드의 부모 노드와 삼촌 노드를 검은색으로 바꾸고 조상 노드를 빨간색으로 바꾼다.  
조상 노드가 루트 노드일 경우에는 검은색으로 바꾼다.  
그렇게 한 뒤 Double Red(빨간색이 붙어있다면)가 발생한다면,  
Restructuring 혹은 Recoloring을 진행해서 Double Red 문제가 발생하지 않을 때까지 반복한다.  

어느 정도 감을 잡긴 했지만 반복해서 습득하지 않으면 쉽게 기억에 남기긴 힘들 수 있을 거 같다.  
반복해서 공부해봐야 할 것 같다.
