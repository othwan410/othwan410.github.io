---
layout: single
title: "효율적인 키워드 검색"
---

# 효율적인 키워드 검색

저번주부터 이번 주까지 배달앱을 만들어 보면서 기능을 계획하고, DB도 짜면서 어떻게 하면 효율적으로 짤 수 있을까 생각하며 작성했다.  
그러면서 내가 꽂힌 것은 키워드로 검색하는 기능이었다.  
키워드로 검색하는 쿼리를 짜보았는데  
```
SELECT * FROM STORE WHERE name LIKE '%keyword%'
```
이렇게 밖에 짤 수 없었다.  
계속 생각하면서도 어쩔 수 없는 full scan이 이루어 질 수 밖에 없다고 생각했다.  
기능엔 당연히 문제가 없겠지만 만약 데이터가 몇 만개가 있다고 생각하면 성능이 굉장히 느려질 것이다.  

인덱스를 사용하여 성능을 향상시키는 것도 생각해 봤지만,  
키워드이기 때문에 인덱스를 쓸 수 없지 않을까라는 생각만 들었다.  

그래서 열심히 답을 알아내기 위해 찾아보았고 큰 소득은 아니지만 그래도 성능을 높일 수 있는 방법이 있다는 것을 알아냈다.  
결국 full scan을 피할 수는 없다는 답이었지만 full scan을 더 빠르게 하는 방법이라고 한다.  
fast full scan이라고는 하는데 정확히 어떻게 구현해야 하는지는 아직 모르겠지만,  
키워드 검색을 할 때는,  
Select문에 쓰인 필드가 인덱스 필드 자신이기 때문에 따로 Where조건을 통해 찾아진 자료의 실제 테이블상의 위치로 점프를 할 필요없이 바로 결과를 반환할 수 있으므로 fast full scan을 활용하면 된다고 한다.  
